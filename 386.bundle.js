"use strict";(self.webpackChunkugotujto=self.webpackChunkugotujto||[]).push([[386],{4386:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(7294),r=n(1620);const i=function(e){var t=e.displayedName,n=e.categoryName,r=e.iconPath,i=e.chooseCategory,c=e.chosenCategory;return a.createElement("li",{className:"category category--small"},a.createElement("input",{type:"radio",className:"input__category",id:n,name:"category",value:n,onChange:function(e){return e.target.checked&&i(e.target.value)},checked:c===n}),a.createElement("label",{htmlFor:n,className:"input__category__label"},a.createElement("img",{src:r,className:"category__icon"}),a.createElement("span",{className:"category__caption"},t)))};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const o=function(e){var t=e.savedData,n=e.setSavedData,r=e.headerText,i=e.dataType,o=e.currentValue,l=e.setCurrentValue,u=e.showWarning,s=void 0!==u&&u,m=function(){var e;n([].concat(function(e){if(Array.isArray(e))return c(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o])),l("")};return a.createElement("li",{className:"recipe-form__element","data-type":i},a.createElement("h5",null,r),a.createElement("div",{className:"input-container"},a.createElement("input",{type:"text",className:"recipe-form__input",name:"ingredient",value:o,onChange:function(e){""!==e.target.value.trim()&&l(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&""!==o&&m()}}),a.createElement("button",{className:"button--add",onClick:function(e){e.preventDefault(),m()}},"+")),a.createElement("ul",{className:"ingredients__dynamic-list"},t.length>0&&t.map((function(e,r){return a.createElement("li",{className:"ingredients__item",key:"i"+r},e,a.createElement("button",{className:"button--remove",onClick:function(a){a.preventDefault(),n(t.filter((function(t){return t!==e})))}},a.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KDQo8c3ZnIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyLjAwMSA1MTIuMDAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMi4wMDEgNTEyLjAwMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxwYXRoIGQ9Im00MjQgNjRoLTg4di0xNmMwLTI2LjUxLTIxLjQ5LTQ4LTQ4LTQ4aC02NGMtMjYuNTEgMC00OCAyMS40OS00OCA0OHYxNmgtODhjLTIyLjA5MSAwLTQwIDE3LjkwOS00MCA0MHYzMmMwIDguODM3IDcuMTYzIDE2IDE2IDE2aDM4NGM4LjgzNyAwIDE2LTcuMTYzIDE2LTE2di0zMmMwLTIyLjA5MS0xNy45MDktNDAtNDAtNDB6bS0yMTYtMTZjMC04LjgyIDcuMTgtMTYgMTYtMTZoNjRjOC44MiAwIDE2IDcuMTggMTYgMTZ2MTZoLTk2eiIvPjxwYXRoIGQ9Im03OC4zNjQgMTg0Yy0yLjg1NSAwLTUuMTMgMi4zODYtNC45OTQgNS4yMzhsMTMuMiAyNzcuMDQyYzEuMjIgMjUuNjQgMjIuMjggNDUuNzIgNDcuOTQgNDUuNzJoMjQyLjk4YzI1LjY2IDAgNDYuNzItMjAuMDggNDcuOTQtNDUuNzJsMTMuMi0yNzcuMDQyYy4xMzYtMi44NTItMi4xMzktNS4yMzgtNC45OTQtNS4yMzh6bTI0MS42MzYgNDBjMC04Ljg0IDcuMTYtMTYgMTYtMTZzMTYgNy4xNiAxNiAxNnYyMDhjMCA4Ljg0LTcuMTYgMTYtMTYgMTZzLTE2LTcuMTYtMTYtMTZ6bS04MCAwYzAtOC44NCA3LjE2LTE2IDE2LTE2czE2IDcuMTYgMTYgMTZ2MjA4YzAgOC44NC03LjE2IDE2LTE2IDE2cy0xNi03LjE2LTE2LTE2em0tODAgMGMwLTguODQgNy4xNi0xNiAxNi0xNnMxNiA3LjE2IDE2IDE2djIwOGMwIDguODQtNy4xNiAxNi0xNiAxNnMtMTYtNy4xNi0xNi0xNnoiLz48L2c+PC9zdmc+",className:"button--remove__icon",alt:"Usuń"})))}))),s&&0===t.length&&a.createElement("p",{className:"recipe-form__warning"},"Dodaj element!"))};function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const s=function(e){var t=e.uploadedFile,n=e.storeFile,r=l((0,a.useState)(!1),2),i=r[0],c=r[1],o=l((0,a.useState)(),2),u=o[0],s=o[1],m=l((0,a.useState)(!1),2),M=m[0],N=m[1],g=(0,a.useRef)(),y=function(e){e.preventDefault(),e.stopPropagation(),i||c(!0)},p=function(e){e.preventDefault(),e.stopPropagation(),c(!0)},d=function(e){e.preventDefault(),e.stopPropagation(),c(!1)},D=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files[0],a=new FileReader;c(!1),n(t),a.onload=function(e){s(e.target.result)},a.readAsDataURL(t),M&&N(!1)};return(0,a.useEffect)((function(){var e=g.current;return e.addEventListener("dragenter",p),e.addEventListener("dragleave",d),e.addEventListener("dragover",y),e.addEventListener("drop",D),function(){e.removeEventListener("dragenter",p),e.removeEventListener("dragleave",d),e.removeEventListener("dragover",y),e.removeEventListener("drop",D)}}),[]),(0,a.useEffect)((function(){t||s(null)}),[t]),a.createElement("div",{ref:g,className:"file__box ".concat(i&&"file__box--highlighted")},a.createElement("input",{className:"input__file",id:"file",type:"file",name:"picture",accept:".png,.jpeg,.jpg",onChange:function(e){var t=e.target.files[0],a=new FileReader;n(t),a.onload=function(e){s(e.target.result)},a.readAsDataURL(t),M&&N(!1)}}),a.createElement("label",{className:"file__label",htmlFor:"file"},!t&&a.createElement("img",{className:"file__img file__icon",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDc3Ljg2NyA0NzcuODY3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzcuODY3IDQ3Ny44Njc7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNNDQzLjczMywzMDcuMmMtOS40MjYsMC0xNy4wNjcsNy42NDEtMTcuMDY3LDE3LjA2N3YxMDIuNGMwLDkuNDI2LTcuNjQxLDE3LjA2Ny0xNy4wNjcsMTcuMDY3SDY4LjI2Nw0KCQkJYy05LjQyNiwwLTE3LjA2Ny03LjY0MS0xNy4wNjctMTcuMDY3di0xMDIuNGMwLTkuNDI2LTcuNjQxLTE3LjA2Ny0xNy4wNjctMTcuMDY3cy0xNy4wNjcsNy42NDEtMTcuMDY3LDE3LjA2N3YxMDIuNA0KCQkJYzAsMjguMjc3LDIyLjkyMyw1MS4yLDUxLjIsNTEuMkg0MDkuNmMyOC4yNzcsMCw1MS4yLTIyLjkyMyw1MS4yLTUxLjJ2LTEwMi40QzQ2MC44LDMxNC44NDEsNDUzLjE1OSwzMDcuMiw0NDMuNzMzLDMwNy4yeiIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMzM1Ljk0NywyOTUuMTM0Yy02LjYxNC02LjM4Ny0xNy4wOTktNi4zODctMjMuNzEyLDBMMjU2LDM1MS4zMzRWMTcuMDY3QzI1Niw3LjY0MSwyNDguMzU5LDAsMjM4LjkzMywwDQoJCQlzLTE3LjA2Nyw3LjY0MS0xNy4wNjcsMTcuMDY3djMzNC4yNjhsLTU2LjIwMS01Ni4yMDFjLTYuNzgtNi41NDgtMTcuNTg0LTYuMzYtMjQuMTMyLDAuNDE5Yy02LjM4OCw2LjYxNC02LjM4OCwxNy4wOTksMCwyMy43MTMNCgkJCWw4NS4zMzMsODUuMzMzYzYuNjU3LDYuNjczLDE3LjQ2Myw2LjY4NywyNC4xMzYsMC4wMzFjMC4wMS0wLjAxLDAuMDItMC4wMiwwLjAzMS0wLjAzMWw4NS4zMzMtODUuMzMzDQoJCQlDMzQyLjkxNSwzMTIuNDg2LDM0Mi43MjcsMzAxLjY4MiwzMzUuOTQ3LDI5NS4xMzR6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="}),!!u&&a.createElement("img",{className:"file__img file__preview",src:u}),!t&&a.createElement("p",{className:"file__text"},a.createElement("strong",null,"Wybierz plik "),"lub przenieś go tutaj."),!!t&&a.createElement("p",{className:"file__text"},"Wybrano plik",a.createElement("strong",{className:"file__name"},t.name),"Aby zmienić plik, kliknij lub przenieś go tutaj.")))};var m=n(936);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const g=function(e){var t=e.recipeName,n=void 0===t?"":t,c=e.recipeCategory,l=void 0===c?"":c,u=e.recipeSpices,N=void 0===u?[]:u,g=e.recipeIngredients,y=void 0===g?[]:g,p=e.recipeSteps,d=void 0===p?[]:p,D=e.recipeComments,f=void 0===D?[]:D,j=e.recipeFile,L=void 0===j?null:j,T=e.onSubmit,E=M((0,a.useState)(!1),2),z=E[0],v=E[1],w=M((0,a.useState)(!1),2),C=w[0],I=w[1],b=M((0,a.useState)(n),2),S=b[0],x=b[1],A=M((0,a.useState)(l),2),h=A[0],Y=A[1],_=M((0,a.useState)(""),2),P=_[0],Q=_[1],k=M((0,a.useState)(N),2),O=k[0],Z=k[1],U=M((0,a.useState)(""),2),G=U[0],J=U[1],K=M((0,a.useState)(y),2),W=K[0],B=K[1],H=M((0,a.useState)(""),2),V=H[0],F=H[1],R=M((0,a.useState)(d),2),X=R[0],$=R[1],q=M((0,a.useState)(""),2),ee=q[0],te=q[1],ne=M((0,a.useState)(f),2),ae=ne[0],re=ne[1],ie=M((0,a.useState)(L),2),ce=ie[0],oe=ie[1],le=function(){Z([]),B([]),$([]),re([]),oe(null),x(""),Y(""),J(""),Q(""),F(""),te(""),v(!1)},ue=function(e){Y(e)},se=function(){var e=S&&h&&W.length>0&&X.length>0&&ce;return v(!e),e};return a.createElement("main",{className:"main-container"},a.createElement("section",{className:"section-content section-content--form"},a.createElement("form",{className:"recipe-form"},a.createElement("ol",null,a.createElement("li",{className:"recipe-form__element"},a.createElement("h5",null,"Wybierz kategorię"),a.createElement("ul",{className:"category__list"},r.b.map((function(e){return a.createElement(i,{displayedName:e.displayedName,categoryName:e.name,iconPath:e.iconPath,key:"input-".concat(e.name),chooseCategory:ue,chosenCategory:h})}))),z&&!h&&a.createElement("p",{className:"recipe-form__warning"},"Wybierz kategorię!")),a.createElement("li",{className:"recipe-form__element"},a.createElement("h5",null,"Podaj nazwę potrawy"),a.createElement("input",{type:"text",className:"recipe-form__input",name:"recipe_name",value:S,onChange:function(e){return x(e.target.value)}}),z&&!S&&a.createElement("p",{className:"recipe-form__warning"},"Wpisz nazwę przepisu!")),a.createElement(o,{savedData:O,setSavedData:Z,headerText:"Podaj przyprawy",dataType:"spices",currentValue:P,setCurrentValue:Q}),a.createElement(o,{savedData:W,setSavedData:B,headerText:"Podaj składniki",dataType:"ingredients",currentValue:G,setCurrentValue:J,showWarning:z}),a.createElement(o,{savedData:X,setSavedData:$,headerText:"Podaj kroki przygotowania",dataType:"steps",currentValue:V,setCurrentValue:F,showWarning:z}),a.createElement(o,{savedData:ae,setSavedData:re,headerText:"Dodaj komentarze do przepisu",dataType:"comments",currentValue:ee,setCurrentValue:te}),a.createElement("li",{className:"recipe-form__element"},a.createElement("h5",null,"Załącz zdjęcie"),a.createElement(s,{uploadedFile:ce,storeFile:function(e){oe(e)}}),z&&!ce&&a.createElement("p",{className:"recipe-form__warning"},"Dodaj plik!")))),a.createElement("button",{className:"button recipe-form__button",type:"button",formTarget:"_self",onClick:function(e){if(e.preventDefault(),se()){var t=((n=new FormData).append("category",h),n.append("name",S),n.append("img",ce),n.append("ingredients",JSON.stringify(W)),n.append("spices",JSON.stringify(O)),n.append("steps",JSON.stringify(X)),n.append("comments",JSON.stringify(ae)),n);T(t),le()}var n}},"Dodaj przepis"),a.createElement("div",{className:"button-container"},a.createElement("button",{className:"button button--empty",type:"button",formTarget:"_self",onClick:function(){se()&&I(!0)}},"Podgląd"),a.createElement("button",{className:"button button--empty",onClick:le},"Wyczyść formularz"))),a.createElement(m.Z,{isOpen:C,recipe:{name:S,photo:ce,category:h,spices:O,ingredients:W,steps:X,comments:ae},handleClose:function(){I(!1)}}))};var y=n(8005);const p=function(){var e=(0,y.Gu)();return e.isLoading,e.isError,e.error,e.data,e.isSuccess,a.createElement(g,{onSubmit:function(t){e.mutate(t)}})}}}]);