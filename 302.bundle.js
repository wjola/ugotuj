"use strict";(self.webpackChunkugotujto=self.webpackChunkugotujto||[]).push([[302],{8005:(e,t,n)=>{n.d(t,{Dz:()=>i,qW:()=>a,n1:()=>c,Gu:()=>o,Lx:()=>u});var r=n(8767),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.useQuery)(["categoryRecipes",e],(function(){return fetch("".concat("https://ugotuj.herokuapp.com","/recipes/").concat(e)).then((function(e){return e.json()}))}))},a=function(){return(0,r.useQuery)("likedRecipes",(function(){return fetch("https://ugotuj.herokuapp.com/recipes/liked").then((function(e){return e.json()}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.useQuery)("search",(function(){return fetch("https://ugotuj.herokuapp.com"+"/recipes/search/".concat(e)).then((function(e){return e.json()}))}))},o=function(){return(0,r.useMutation)((function(e){return fetch("https://ugotuj.herokuapp.com/recipes",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:e}).then((function(){return console.log("Recipe added")}))}))},u=function(){return(0,r.useMutation)((function(e){return fetch("https://ugotuj.herokuapp.com"+"/recipe/".concat(e.recipeId),{method:"PATCH",header:{"Content-Type":"application/json"},body:JSON.stringify({liked:e.liked})}).then((function(e){return e.json()}))}))}},2638:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(7294),i=n(3727),a=n(5977),c=n(936),o=n(8767),u=n(8005),l=n(8505);const s=function(e){var t=e.recipeId,n=e.isRecipeOpen,i=void 0!==n&&n,c=e.liked,s=(0,o.useQueryClient)(),M=(0,a.TH)(),m=(0,u.Lx)();return r.createElement("button",{className:"like-icon like-icon--".concat(i?"big":"small"),onClick:function(){return function(e,t){m.mutate({recipeId:e,liked:!t},{onSuccess:function(e,t){"/search"==M.pathname?(s.setQueryData(["search",{_id:t.recipeId,liked:t.liked}],e),s.invalidateQueries("search")):"/liked"==M.pathname?(s.setQueryData(["likedRecipes",{_id:t.recipeId,liked:t.liked}]),s.invalidateQueries("likedRecipes")):(s.setQueryData(["categoryRecipes",{_id:t.recipeId,liked:t.liked}],e),s.invalidateQueries("categoryRecipes"))}})}(t,c)}},r.createElement("img",{src:c?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDEyLjczNSA0MTIuNzM1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MTIuNzM1IDQxMi43MzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMjk1LjcwNiwzNS41MjJDMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjJjLTM0LjQzLTAuMTg0LTY3LjE2MSwxNC45MzctODkuMzM5LDQxLjI3Mw0KCQkJYy0yMi4wMzktMjYuNTE2LTU0Ljg2MS00MS42OC04OS4zMzktNDEuMjczQzUyLjM5NSwzNS41MjIsMCw4Ny45MTcsMCwxNTIuNTVDMCwyNjMuMzEsMTkzLjMwNiwzNzEuNDU2LDIwMS4xNDMsMzc1LjYzNg0KCQkJYzMuMTYyLDIuMTEzLDcuMjg2LDIuMTEzLDEwLjQ0OSwwYzcuODM3LTQuMTgsMjAxLjE0My0xMTAuNzU5LDIwMS4xNDMtMjIzLjA4NkM0MTIuNzM1LDg3LjkxNywzNjAuMzM5LDM1LjUyMiwyOTUuNzA2LDM1LjUyMnoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==":l.Z}))};function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const m=function(e){var t,n,o=e.recipe,u=e.handleLikeChange,l=(0,a.k6)(),m=(0,a.TH)(),d=(0,a.UO)().recipeId,N=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){o=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=N[0],y=N[1];return(0,r.useEffect)((function(){y(d===o.id)}),[d]),r.createElement("li",{className:"thumbnail","data-id":o.id},r.createElement(i.rU,{to:"".concat(m.pathname,"/").concat(o.id)},r.createElement("figure",{className:"thumbnail__img"},r.createElement("img",{src:o.photo,alt:o.name}),r.createElement("figcaption",{className:"thumbnail__name"},o.name))),r.createElement(s,{recipeId:o.id,liked:o.liked,handleLikeChange:u}),g&&r.createElement(c.Z,{isOpen:g,recipe:o,handleClose:function(){l.goBack(),y(!1)},likeButton:r.createElement(s,{recipeId:o.id,liked:o.liked,handleLikeChange:u,isRecipeOpen:g})}))},d=function(e){var t=e.data,n=function(e,t){mutation.mutate({recipeId:e,liked:!t})};return r.createElement("ul",{className:"thumbnails-container"},!!t&&t.map((function(e){return r.createElement(m,{key:"".concat(e._id,"s"),recipe:{id:e._id,name:e.name,photo:e.img.replace("\\","/"),category:e.category,spices:e.spices,ingredients:e.ingredients,steps:e.steps,comments:e.comments,liked:!!e.liked},handleLikeChange:n})})))}},9302:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(7294),i=n(8005),a=n(2638);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const o=function(){var e,t,n=(e=(0,r.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){o=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],u=n[1],l=(0,i.n1)(o),s=l.data,M=l.isLoading,m=l.refetch,d=function(e){e.preventDefault(),o&&m()};return(0,r.useEffect)((function(){return m(),function(){u(""),m()}}),[]),r.createElement("main",{className:"main-container"},r.createElement("section",{className:"section-content"},r.createElement("form",{className:"search-container",onSubmit:d},r.createElement("input",{type:"text",className:"search__input",name:"search",placeholder:"Wpisz szukaną frazę...",value:o,onChange:function(e){u(e.target.value)}}),r.createElement("button",{className:"button search__button",type:"button",formTarget:"_self",onClick:d},"Szukaj")),M&&r.createElement("p",null,"Ładowanie.."),!!s&&s.length>0&&r.createElement("div",{className:"search__results"},r.createElement("h3",{className:"search__header"},"Wyniki wyszukiwania dla:"," ",r.createElement("span",{className:"search-phrase"},o)),r.createElement(a.Z,{data:s}))))}},936:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(7294),i=n(3935);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(){var e,t,n=(e=(0,r.useState)("desktop"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){o=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],c=n[1],o=function(){var e=window.innerWidth;c(e>1100?"desktop":e<=700?"phone":"tablet")};return(0,r.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),i};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t,n,a=e.isOpen,u=void 0===a||a,l=e.recipe,s=e.handleClose,M=e.likeButton,m=document.getElementById("recipe-modal"),d=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],c=!0,o=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){o=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(o)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=d[0],g=d[1],y=c(),p=function(){if("string"==typeof l.photo)g(l.photo);else{var e=new FileReader;e.onload=function(e){g(e.target.result)},e.readAsDataURL(l.photo)}};return(0,r.useEffect)((function(){return u&&(document.body.style.overflow="hidden",p()),function(){document.body.style.overflow="unset"}}),[]),(0,r.useEffect)((function(){if(u)return document.body.style.overflow="hidden",p(),function(){document.body.style.overflow="unset"}}),[u]),i.createPortal(r.createElement("dialog",{open:u,className:"modal",onClick:function(e){"desktop"===y&&"modal"==e.target.classList[0]&&s()}},r.createElement("div",{className:"recipe-container"},r.createElement("button",{className:"button--close",onClick:function(){return s()}},r.createElement("img",{className:"button--close-img",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMyOXB0IiBmaWxsPSIjY2MxODVkZTEiIHZpZXdCb3g9IjAgMCAzMjkuMjY5MzMgMzI5IiB3aWR0aD0iMzI5cHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE5NC44MDA3ODEgMTY0Ljc2OTUzMSAxMjguMjEwOTM4LTEyOC4yMTQ4NDNjOC4zNDM3NS04LjMzOTg0NCA4LjM0Mzc1LTIxLjgyNDIxOSAwLTMwLjE2NDA2My04LjMzOTg0NC04LjMzOTg0NC0yMS44MjQyMTktOC4zMzk4NDQtMzAuMTY0MDYzIDBsLTEyOC4yMTQ4NDQgMTI4LjIxNDg0NC0xMjguMjEwOTM3LTEyOC4yMTQ4NDRjLTguMzQzNzUtOC4zMzk4NDQtMjEuODI0MjE5LTguMzM5ODQ0LTMwLjE2NDA2MyAwLTguMzQzNzUgOC4zMzk4NDQtOC4zNDM3NSAyMS44MjQyMTkgMCAzMC4xNjQwNjNsMTI4LjIxMDkzOCAxMjguMjE0ODQzLTEyOC4yMTA5MzggMTI4LjIxNDg0NGMtOC4zNDM3NSA4LjMzOTg0NC04LjM0Mzc1IDIxLjgyNDIxOSAwIDMwLjE2NDA2MyA0LjE1NjI1IDQuMTYwMTU2IDkuNjIxMDk0IDYuMjUgMTUuMDgyMDMyIDYuMjUgNS40NjA5MzcgMCAxMC45MjE4NzUtMi4wODk4NDQgMTUuMDgyMDMxLTYuMjVsMTI4LjIxMDkzNy0xMjguMjE0ODQ0IDEyOC4yMTQ4NDQgMTI4LjIxNDg0NGM0LjE2MDE1NiA0LjE2MDE1NiA5LjYyMTA5NCA2LjI1IDE1LjA4MjAzMiA2LjI1IDUuNDYwOTM3IDAgMTAuOTIxODc0LTIuMDg5ODQ0IDE1LjA4MjAzMS02LjI1IDguMzQzNzUtOC4zMzk4NDQgOC4zNDM3NS0yMS44MjQyMTkgMC0zMC4xNjQwNjN6bTAgMCIvPjwvc3ZnPg=="})),r.createElement("div",{className:"recipe__photo-container"},r.createElement("figure",{className:"recipe__photo"},r.createElement("img",{src:N,className:"recipe__photo-img"}),M)),r.createElement("article",{className:"recipe__text-container"},r.createElement("h2",{className:"recipe__name"},l.name),r.createElement("div",{className:"recipe__details"},r.createElement("div",{className:"recipe__ingredients"},r.createElement("div",{className:"ingredients__column"},r.createElement("h3",{className:"recipe__heading"},"Składniki"),r.createElement("ul",{className:"recipe__list recipe__list--ingredients"},l.ingredients.map((function(e,t){return r.createElement("li",{key:"ingredient-".concat(t)},e)})))),l.spices.length>0&&r.createElement("div",{className:"ingredients__column"},r.createElement("h3",{className:"recipe__heading"},"Przyprawy"),r.createElement("ul",{className:"recipe__list recipe__list--ingredients"},l.spices.map((function(e,t){return r.createElement("li",{key:"spices-".concat(t)},e)}))))),r.createElement("div",{className:"recipe__steps"},r.createElement("h3",{className:"recipe__heading"},"Przygotowanie"),r.createElement("ol",{className:"recipe__list recipe__list--steps"},l.steps.map((function(e,t){return r.createElement("li",{key:"steps-".concat(t)},e)})))),l.comments.length>0&&r.createElement("div",{className:"recipe__comments"},r.createElement("h3",{className:"recipe__heading"},"Komentarze"),r.createElement("ol",{className:"recipe__list recipe__list--ingredients"},l.comments.map((function(e,t){return r.createElement("li",{key:"comments-".concat(t)},e)})))))))),m)}},8505:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTM3NiAzMWMtNTQuNTQ0IDAtOTUuMDE3IDMzLjQ5Ny0xMjAgODEuMDE1LTI0Ljk4MS00Ny41MTUtNjUuNDU0LTgxLjAxNS0xMjAtODEuMDE1LTc4LjYwOSAwLTEzNiA2Ni4wMTUtMTM2IDE0Ni41MTUgMCAxMDYuNDU3IDEwMS41NzIgMTczLjI5MSAyNDYuMTIyIDI5OS43NzMgNS42NTcgNC45NDkgMTQuMDk5IDQuOTQ4IDE5Ljc1NiAwIDE0NC40MTctMTI2LjM2NiAyNDYuMTIyLTE5My4zMDMgMjQ2LjEyMi0yOTkuNzczIDAtODAuNTEzLTU3LjQtMTQ2LjUxNS0xMzYtMTQ2LjUxNXptLTEyMCA0MTUuMTAxYy0xMzMuMTIyLTExNS42MzUtMjI2LTE3OS44NzItMjI2LTI2OC41ODYgMC02Ni40MjQgNDUuNTctMTE2LjUxNSAxMDYtMTE2LjUxNSA1OC4yNTIgMCA5NC4zNTEgNTMuOTQ3IDEwNS41NDIgOTMuOTk2IDQuMDM2IDE0LjYxIDI0LjgzIDE0LjY3NSAyOC45MTYgMCAxMS4wNDMtMzkuNTE4IDQ2LjcyMy05My45OTYgMTA1LjU0Mi05My45OTYgNjAuNDMgMCAxMDYgNTAuMDkxIDEwNiAxMTYuNTE1IDAgODguNzY1LTkzLjAzIDE1My4wODMtMjI2IDI2OC41ODZ6Ii8+PC9nPjwvc3ZnPg=="}}]);