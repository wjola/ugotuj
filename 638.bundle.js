"use strict";(self.webpackChunkugotujto=self.webpackChunkugotujto||[]).push([[638],{8005:(e,t,n)=>{n.d(t,{Dz:()=>i,qW:()=>c,n1:()=>a,Gu:()=>o,Lx:()=>u});var r=n(8767),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.useQuery)(["categoryRecipes",e],(function(){return fetch("".concat("https://ugotuj.herokuapp.com","/recipes/").concat(e)).then((function(e){return e.json()}))}))},c=function(){return(0,r.useQuery)("likedRecipes",(function(){return fetch("https://ugotuj.herokuapp.com/recipes/liked").then((function(e){return e.json()}))}))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.useQuery)("search",(function(){return fetch("https://ugotuj.herokuapp.com"+"/recipes/search/".concat(e)).then((function(e){return e.json()}))}))},o=function(){return(0,r.useMutation)((function(e){return fetch("https://ugotuj.herokuapp.com/recipes",{method:"POST",header:{"Content-Type":"multipart/form-data"},body:e}).then((function(){return console.log("Recipe added")}))}))},u=function(){return(0,r.useMutation)((function(e){return fetch("https://ugotuj.herokuapp.com"+"/recipe/".concat(e.recipeId),{method:"PATCH",header:{"Content-Type":"application/json"},body:JSON.stringify({liked:e.liked})}).then((function(e){return e.json()}))}))}},2638:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(7294),i=n(3727),c=n(5977),a=n(4849),o=n(936),u=n(8767),l=n(8005),M=n(8505);const s=function(e){var t=e.recipeId,n=e.isRecipeOpen,i=void 0!==n&&n,a=e.liked,o=(0,u.useQueryClient)(),s=(0,c.TH)(),N=(0,l.Lx)();return r.createElement("button",{className:"like-icon like-icon--".concat(i?"big":"small"),onClick:function(){return function(e,t){N.mutate({recipeId:e,liked:!t},{onSuccess:function(e,t){"/search"==s.pathname?(o.setQueryData(["search",{_id:t.recipeId,liked:t.liked}],e),o.invalidateQueries("search")):"/liked"==s.pathname?(o.setQueryData(["likedRecipes",{_id:t.recipeId,liked:t.liked}]),o.invalidateQueries("likedRecipes")):(o.setQueryData(["categoryRecipes",{_id:t.recipeId,liked:t.liked}],e),o.invalidateQueries("categoryRecipes"))}})}(t,a)}},r.createElement("img",{src:a?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDEyLjczNSA0MTIuNzM1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MTIuNzM1IDQxMi43MzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMjk1LjcwNiwzNS41MjJDMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjJjLTM0LjQzLTAuMTg0LTY3LjE2MSwxNC45MzctODkuMzM5LDQxLjI3Mw0KCQkJYy0yMi4wMzktMjYuNTE2LTU0Ljg2MS00MS42OC04OS4zMzktNDEuMjczQzUyLjM5NSwzNS41MjIsMCw4Ny45MTcsMCwxNTIuNTVDMCwyNjMuMzEsMTkzLjMwNiwzNzEuNDU2LDIwMS4xNDMsMzc1LjYzNg0KCQkJYzMuMTYyLDIuMTEzLDcuMjg2LDIuMTEzLDEwLjQ0OSwwYzcuODM3LTQuMTgsMjAxLjE0My0xMTAuNzU5LDIwMS4xNDMtMjIzLjA4NkM0MTIuNzM1LDg3LjkxNywzNjAuMzM5LDM1LjUyMiwyOTUuNzA2LDM1LjUyMnoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==":M.Z}))};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,c=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const g=function(e){var t=e.recipe,n=e.handleLikeChange,u=(0,c.k6)(),l=(0,c.TH)(),M=(0,c.UO)().recipeId,m=N((0,r.useState)(!1),2),g=m[0],d=m[1],y=N((0,r.useState)(!1),2),j=y[0],I=y[1];return(0,r.useEffect)((function(){d(M===t.id)}),[M]),r.createElement("li",{className:"thumbnail","data-id":t.id},r.createElement(i.rU,{to:"".concat(l.pathname,"/").concat(t.id)},r.createElement("figure",{className:"thumbnail__img"},r.createElement("img",{className:j?"imageLoaded":"",src:t.photo,alt:t.name,onLoad:function(){I(!0)}}),!j&&r.createElement(a.Z,{height:"100%"}),r.createElement("figcaption",{className:"thumbnail__name"},t.name))),r.createElement(s,{recipeId:t.id,liked:t.liked,handleLikeChange:n}),g&&r.createElement(o.Z,{isOpen:g,recipe:t,handleClose:function(){u.goBack(),d(!1)},likeButton:r.createElement(s,{recipeId:t.id,liked:t.liked,handleLikeChange:n,isRecipeOpen:g})}))},d=function(e){var t=e.data,n=function(e,t){mutation.mutate({recipeId:e,liked:!t})};return r.createElement("ul",{className:"thumbnails-container"},!!t&&(t.length>0?t.map((function(e){return r.createElement(g,{key:"".concat(e._id,"s"),recipe:{id:e._id,name:e.name,photo:e.img.replace("\\","/"),category:e.category,spices:e.spices,ingredients:e.ingredients,steps:e.steps,comments:e.comments,liked:!!e.liked},handleLikeChange:n})})):r.createElement("p",null,"Brak przepisÃ³w dla tej kategorii.")))}},936:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(7294),i=n(3935);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const a=function(){var e,t,n=(e=(0,r.useState)("desktop"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,c=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],a=n[1],o=function(){var e=window.innerWidth;a(e>1100?"desktop":e<=700?"phone":"tablet")};return(0,r.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),i};function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t,n,c=e.isOpen,u=void 0===c||c,l=e.recipe,M=e.handleClose,s=e.likeButton,N=document.getElementById("recipe-modal"),m=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,c=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=m[0],d=m[1],y=a(),j=function(){if("string"==typeof l.photo)d(l.photo);else{var e=new FileReader;e.onload=function(e){d(e.target.result)},e.readAsDataURL(l.photo)}};return(0,r.useEffect)((function(){return u&&(document.body.style.overflow="hidden",j()),function(){document.body.style.overflow="unset"}}),[]),(0,r.useEffect)((function(){if(u)return document.body.style.overflow="hidden",j(),function(){document.body.style.overflow="unset"}}),[u]),i.createPortal(r.createElement("dialog",{open:u,className:"modal",onClick:function(e){"desktop"===y&&"modal"==e.target.classList[0]&&M()}},r.createElement("div",{className:"recipe-container"},r.createElement("button",{className:"button--close",onClick:function(){return M()}},r.createElement("img",{className:"button--close-img",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMyOXB0IiBmaWxsPSIjY2MxODVkZTEiIHZpZXdCb3g9IjAgMCAzMjkuMjY5MzMgMzI5IiB3aWR0aD0iMzI5cHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE5NC44MDA3ODEgMTY0Ljc2OTUzMSAxMjguMjEwOTM4LTEyOC4yMTQ4NDNjOC4zNDM3NS04LjMzOTg0NCA4LjM0Mzc1LTIxLjgyNDIxOSAwLTMwLjE2NDA2My04LjMzOTg0NC04LjMzOTg0NC0yMS44MjQyMTktOC4zMzk4NDQtMzAuMTY0MDYzIDBsLTEyOC4yMTQ4NDQgMTI4LjIxNDg0NC0xMjguMjEwOTM3LTEyOC4yMTQ4NDRjLTguMzQzNzUtOC4zMzk4NDQtMjEuODI0MjE5LTguMzM5ODQ0LTMwLjE2NDA2MyAwLTguMzQzNzUgOC4zMzk4NDQtOC4zNDM3NSAyMS44MjQyMTkgMCAzMC4xNjQwNjNsMTI4LjIxMDkzOCAxMjguMjE0ODQzLTEyOC4yMTA5MzggMTI4LjIxNDg0NGMtOC4zNDM3NSA4LjMzOTg0NC04LjM0Mzc1IDIxLjgyNDIxOSAwIDMwLjE2NDA2MyA0LjE1NjI1IDQuMTYwMTU2IDkuNjIxMDk0IDYuMjUgMTUuMDgyMDMyIDYuMjUgNS40NjA5MzcgMCAxMC45MjE4NzUtMi4wODk4NDQgMTUuMDgyMDMxLTYuMjVsMTI4LjIxMDkzNy0xMjguMjE0ODQ0IDEyOC4yMTQ4NDQgMTI4LjIxNDg0NGM0LjE2MDE1NiA0LjE2MDE1NiA5LjYyMTA5NCA2LjI1IDE1LjA4MjAzMiA2LjI1IDUuNDYwOTM3IDAgMTAuOTIxODc0LTIuMDg5ODQ0IDE1LjA4MjAzMS02LjI1IDguMzQzNzUtOC4zMzk4NDQgOC4zNDM3NS0yMS44MjQyMTkgMC0zMC4xNjQwNjN6bTAgMCIvPjwvc3ZnPg=="})),r.createElement("div",{className:"recipe__photo-container"},r.createElement("figure",{className:"recipe__photo"},r.createElement("img",{src:g,className:"recipe__photo-img"}),s)),r.createElement("article",{className:"recipe__text-container"},r.createElement("h2",{className:"recipe__name"},l.name),r.createElement("div",{className:"recipe__details"},r.createElement("div",{className:"recipe__ingredients"},r.createElement("div",{className:"ingredients__column"},r.createElement("h3",{className:"recipe__heading"},"SkÅadniki"),r.createElement("ul",{className:"recipe__list recipe__list--ingredients"},l.ingredients.map((function(e,t){return r.createElement("li",{key:"ingredient-".concat(t)},e)})))),l.spices.length>0&&r.createElement("div",{className:"ingredients__column"},r.createElement("h3",{className:"recipe__heading"},"Przyprawy"),r.createElement("ul",{className:"recipe__list recipe__list--ingredients"},l.spices.map((function(e,t){return r.createElement("li",{key:"spices-".concat(t)},e)}))))),r.createElement("div",{className:"recipe__steps"},r.createElement("h3",{className:"recipe__heading"},"Przygotowanie"),r.createElement("ol",{className:"recipe__list recipe__list--steps"},l.steps.map((function(e,t){return r.createElement("li",{key:"steps-".concat(t)},e)})))),l.comments.length>0&&r.createElement("div",{className:"recipe__comments"},r.createElement("h3",{className:"recipe__heading"},"Komentarze"),r.createElement("ol",{className:"recipe__list recipe__list--ingredients"},l.comments.map((function(e,t){return r.createElement("li",{key:"comments-".concat(t)},e)})))))))),N)}},8505:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTM3NiAzMWMtNTQuNTQ0IDAtOTUuMDE3IDMzLjQ5Ny0xMjAgODEuMDE1LTI0Ljk4MS00Ny41MTUtNjUuNDU0LTgxLjAxNS0xMjAtODEuMDE1LTc4LjYwOSAwLTEzNiA2Ni4wMTUtMTM2IDE0Ni41MTUgMCAxMDYuNDU3IDEwMS41NzIgMTczLjI5MSAyNDYuMTIyIDI5OS43NzMgNS42NTcgNC45NDkgMTQuMDk5IDQuOTQ4IDE5Ljc1NiAwIDE0NC40MTctMTI2LjM2NiAyNDYuMTIyLTE5My4zMDMgMjQ2LjEyMi0yOTkuNzczIDAtODAuNTEzLTU3LjQtMTQ2LjUxNS0xMzYtMTQ2LjUxNXptLTEyMCA0MTUuMTAxYy0xMzMuMTIyLTExNS42MzUtMjI2LTE3OS44NzItMjI2LTI2OC41ODYgMC02Ni40MjQgNDUuNTctMTE2LjUxNSAxMDYtMTE2LjUxNSA1OC4yNTIgMCA5NC4zNTEgNTMuOTQ3IDEwNS41NDIgOTMuOTk2IDQuMDM2IDE0LjYxIDI0LjgzIDE0LjY3NSAyOC45MTYgMCAxMS4wNDMtMzkuNTE4IDQ2LjcyMy05My45OTYgMTA1LjU0Mi05My45OTYgNjAuNDMgMCAxMDYgNTAuMDkxIDEwNiAxMTYuNTE1IDAgODguNzY1LTkzLjAzIDE1My4wODMtMjI2IDI2OC41ODZ6Ii8+PC9nPjwvc3ZnPg=="}}]);